<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portofolio - OBA System</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-left">
            <div class="logo-container">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/64/LOGO_UNU_YOGYAKARTA.png/500px-LOGO_UNU_YOGYAKARTA.png" alt="UNU Yogyakarta" class="logo">
                <div class="brand-text">
                    <h1>OBA System</h1>
                    <p>Outcome-Based Assessment</p>
                </div>
            </div>
        </div>
        <div class="header-right">
            <div class="user-info">
                <span class="user-role">Lecturer</span>
                <div class="user-avatar">
                    <i class="fas fa-user"></i>
                </div>
                <div class="dropdown">
                    <button class="dropdown-btn">
                        <span>Dr. Zulfatun Ruscitasari</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="dropdown-content">
                        <a href="#profile"><i class="fas fa-user-cog"></i> Profile</a>
                        <a href="#settings"><i class="fas fa-cog"></i> Settings</a>
                        <a href="#logout"><i class="fas fa-sign-out-alt"></i> Logout</a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Sidebar Navigation -->
    <nav class="sidebar">
        <div class="sidebar-content">
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="#dashboard" class="nav-link">
                        <i class="fas fa-tachometer-alt"></i>
                        <span>Dashboard</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#manajemen-mata-kuliah" class="nav-link">
                        <i class="fas fa-book"></i>
                        <span>Manajemen Mata Kuliah</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#manajemen-soal" class="nav-link">
                        <i class="fas fa-question-circle"></i>
                        <span>Manajemen Soal</span>
                    </a>
                </li>
                <li class="nav-item active">
                    <a href="#portofolio" class="nav-link">
                        <i class="fas fa-file-pdf"></i>
                        <span>Portofolio</span>
                    </a>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Breadcrumb -->
        <div class="breadcrumb">
            <span>Portofolio</span>
        </div>

        <!-- Page Header -->
        <div class="page-header">
            <div class="page-title">
                <h1>Portofolio Pembelajaran</h1>
                <p>Generate portofolio dan kelola evaluasi diri untuk mata kuliah Anda</p>
            </div>
        </div>

        <!-- Portfolio Grid -->
        <div class="portfolio-grid">
            <!-- Course Portfolio Card 1 -->
            <div class="portfolio-card">
                <div class="portfolio-header">
                    <div class="course-info">
                        <span class="course-code">AKT2201</span>
                        <div class="course-details">
                            <h3>Akuntansi Sektor Publik</h3>
                            <div class="course-meta">
                                <span><i class="fas fa-calendar"></i> Semester Genap 2024/2025</span>
                                <span><i class="fas fa-users"></i> 30 mahasiswa</span>
                            </div>
                        </div>
                    </div>
                    <div class="completion-badge complete">
                        <i class="fas fa-check-circle"></i>
                        <span>Lengkap</span>
                    </div>
                </div>

                <div class="portfolio-content">
                    <!-- Progress Summary -->
                    <div class="progress-summary">
                        <h4>Status Kelengkapan</h4>
                        <div class="progress-items">
                            <div class="progress-item completed">
                                <i class="fas fa-check-circle"></i>
                                <span>RPS</span>
                            </div>
                            <div class="progress-item completed">
                                <i class="fas fa-check-circle"></i>
                                <span>Nilai Akhir MK</span>
                            </div>
                            <div class="progress-item completed">
                                <i class="fas fa-check-circle"></i>
                                <span>Pencapaian CPL</span>
                            </div>
                            <div class="progress-item pending">
                                <i class="fas fa-clock"></i>
                                <span>Evaluasi Diri</span>
                            </div>
                        </div>
                    </div>

                    <!-- Grade Summary -->
                    <div class="grade-summary">
                        <h4>Ringkasan Nilai</h4>
                        <div class="grade-stats">
                            <div class="stat-box">
                                <span class="stat-label">Rata-rata</span>
                                <span class="stat-value">78.5</span>
                            </div>
                            <div class="stat-box">
                                <span class="stat-label">Tertinggi</span>
                                <span class="stat-value">95</span>
                            </div>
                            <div class="stat-box">
                                <span class="stat-label">Terendah</span>
                                <span class="stat-value">55</span>
                            </div>
                            <div class="stat-box">
                                <span class="stat-label">Lulus</span>
                                <span class="stat-value">28/30</span>
                            </div>
                        </div>
                    </div>

                    <!-- Actions -->
                    <div class="portfolio-actions">
                        <button class="btn-secondary" onclick="openSelfEvaluation('akt2201')">
                            <i class="fas fa-edit"></i>
                            <span>Evaluasi Diri</span>
                        </button>
                        <button class="btn-primary" onclick="generatePortfolio('akt2201')">
                            <i class="fas fa-file-pdf"></i>
                            <span>Generate PDF</span>
                        </button>
                        <button class="btn-secondary" onclick="exportGrades('akt2201')">
                            <i class="fas fa-download"></i>
                            <span>Export Nilai</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Course Portfolio Card 2 -->
            <div class="portfolio-card">
                <div class="portfolio-header">
                    <div class="course-info">
                        <span class="course-code">MNG3201</span>
                        <div class="course-details">
                            <h3>Manajemen Strategis</h3>
                            <div class="course-meta">
                                <span><i class="fas fa-calendar"></i> Semester Genap 2024/2025</span>
                                <span><i class="fas fa-users"></i> 28 mahasiswa</span>
                            </div>
                        </div>
                    </div>
                    <div class="completion-badge incomplete">
                        <i class="fas fa-clock"></i>
                        <span>Dalam Proses</span>
                    </div>
                </div>

                <div class="portfolio-content">
                    <!-- Progress Summary -->
                    <div class="progress-summary">
                        <h4>Status Kelengkapan</h4>
                        <div class="progress-items">
                            <div class="progress-item completed">
                                <i class="fas fa-check-circle"></i>
                                <span>RPS</span>
                            </div>
                            <div class="progress-item pending">
                                <i class="fas fa-clock"></i>
                                <span>Nilai Akhir MK</span>
                            </div>
                            <div class="progress-item pending">
                                <i class="fas fa-clock"></i>
                                <span>Pencapaian CPL</span>
                            </div>
                            <div class="progress-item pending">
                                <i class="fas fa-clock"></i>
                                <span>Evaluasi Diri</span>
                            </div>
                        </div>
                    </div>

                    <!-- Notice -->
                    <div class="notice-box">
                        <i class="fas fa-info-circle"></i>
                        <div>
                            <strong>Belum dapat membuat portofolio</strong>
                            <p>Lengkapi penilaian semua mahasiswa terlebih dahulu di Manajemen Soal.</p>
                        </div>
                    </div>

                    <!-- Actions -->
                    <div class="portfolio-actions">
                        <button class="btn-secondary" disabled>
                            <i class="fas fa-edit"></i>
                            <span>Evaluasi Diri</span>
                        </button>
                        <button class="btn-primary" disabled>
                            <i class="fas fa-file-pdf"></i>
                            <span>Generate PDF</span>
                        </button>
                        <button class="btn-secondary" disabled>
                            <i class="fas fa-download"></i>
                            <span>Export Nilai</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Generated Portfolios Section -->
            <div class="generated-portfolios">
                <div class="section-header">
                    <h2>Portofolio yang Telah Dibuat</h2>
                    <span class="portfolio-count">2 portofolio</span>
                </div>

                <div class="portfolio-list">
                    <div class="portfolio-item">
                        <div class="portfolio-info">
                            <div class="file-icon">
                                <i class="fas fa-file-pdf"></i>
                            </div>
                            <div class="file-details">
                                <h4>Portofolio_AKT2201_2024.pdf</h4>
                                <div class="file-meta">
                                    <span>Akuntansi Sektor Publik</span>
                                    <span>•</span>
                                    <span>Generated: 15 Mar 2024, 14:30</span>
                                    <span>•</span>
                                    <span>2.3 MB</span>
                                </div>
                            </div>
                        </div>
                        <div class="portfolio-item-actions">
                            <button class="btn-icon btn-view" title="Preview">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="btn-icon btn-download" title="Download">
                                <i class="fas fa-download"></i>
                            </button>
                            <button class="btn-icon btn-regenerate" title="Generate Ulang">
                                <i class="fas fa-sync"></i>
                            </button>
                        </div>
                    </div>

                    <div class="portfolio-item">
                        <div class="portfolio-info">
                            <div class="file-icon">
                                <i class="fas fa-file-pdf"></i>
                            </div>
                            <div class="file-details">
                                <h4>Portofolio_EKO1101_2023.pdf</h4>
                                <div class="file-meta">
                                    <span>Mikroekonomi</span>
                                    <span>•</span>
                                    <span>Generated: 28 Feb 2024, 09:15</span>
                                    <span>•</span>
                                    <span>1.8 MB</span>
                                </div>
                            </div>
                        </div>
                        <div class="portfolio-item-actions">
                            <button class="btn-icon btn-view" title="Preview">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="btn-icon btn-download" title="Download">
                                <i class="fas fa-download"></i>
                            </button>
                            <button class="btn-icon btn-regenerate" title="Generate Ulang">
                                <i class="fas fa-sync"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Self Evaluation Modal -->
    <div class="modal" id="selfEvaluationModal">
        <div class="modal-content modal-xl">
            <div class="modal-header">
                <h3 id="evaluationModalTitle">Evaluasi Diri - AKT2201</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="selfEvaluationForm" class="evaluation-form">
                    <div class="form-section">
                        <h4>Informasi Mata Kuliah</h4>
                        <div class="info-grid">
                            <div class="info-item">
                                <span class="info-label">Mata Kuliah:</span>
                                <span class="info-value">Akuntansi Sektor Publik</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Semester:</span>
                                <span class="info-value">Genap 2024/2025</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Jumlah Mahasiswa:</span>
                                <span class="info-value">30 orang</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Rata-rata Nilai:</span>
                                <span class="info-value">78.5</span>
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h4>Evaluasi Pelaksanaan Pembelajaran</h4>
                        
                        <div class="form-group">
                            <label>1. Bagaimana tingkat pencapaian tujuan pembelajaran?</label>
                            <div class="rating-group">
                                <input type="radio" id="goal1" name="goal_achievement" value="1">
                                <label for="goal1">Kurang (1)</label>
                                <input type="radio" id="goal2" name="goal_achievement" value="2">
                                <label for="goal2">Cukup (2)</label>
                                <input type="radio" id="goal3" name="goal_achievement" value="3" checked>
                                <label for="goal3">Baik (3)</label>
                                <input type="radio" id="goal4" name="goal_achievement" value="4">
                                <label for="goal4">Sangat Baik (4)</label>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>2. Bagaimana efektivitas metode pembelajaran yang digunakan?</label>
                            <div class="rating-group">
                                <input type="radio" id="method1" name="teaching_method" value="1">
                                <label for="method1">Kurang (1)</label>
                                <input type="radio" id="method2" name="teaching_method" value="2">
                                <label for="method2">Cukup (2)</label>
                                <input type="radio" id="method3" name="teaching_method" value="3">
                                <label for="method3">Baik (3)</label>
                                <input type="radio" id="method4" name="teaching_method" value="4" checked>
                                <label for="method4">Sangat Baik (4)</label>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>3. Bagaimana tingkat partisipasi mahasiswa?</label>
                            <div class="rating-group">
                                <input type="radio" id="participation1" name="student_participation" value="1">
                                <label for="participation1">Kurang (1)</label>
                                <input type="radio" id="participation2" name="student_participation" value="2">
                                <label for="participation2">Cukup (2)</label>
                                <input type="radio" id="participation3" name="student_participation" value="3" checked>
                                <label for="participation3">Baik (3)</label>
                                <input type="radio" id="participation4" name="student_participation" value="4">
                                <label for="participation4">Sangat Baik (4)</label>
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h4>Refleksi dan Evaluasi</h4>
                        
                        <div class="form-group">
                            <label>Kendala yang dihadapi selama pembelajaran:</label>
                            <textarea name="challenges" rows="4" 
                                      placeholder="Jelaskan kendala atau hambatan yang dihadapi..."></textarea>
                        </div>

                        <div class="form-group">
                            <label>Strategi yang berhasil diterapkan:</label>
                            <textarea name="successful_strategies" rows="4"
                                      placeholder="Jelaskan strategi pembelajaran yang efektif..."></textarea>
                        </div>

                        <div class="form-group">
                            <label>Rencana perbaikan untuk semester mendatang:</label>
                            <textarea name="improvement_plan" rows="4"
                                      placeholder="Jelaskan rencana perbaikan dan pengembangan..."></textarea>
                        </div>
                    </div>

                    <div class="form-section">
                        <h4>Pencapaian CPMK</h4>
                        <div class="cpmk-evaluation">
                            <div class="cpmk-item">
                                <div class="cpmk-header">
                                    <h5>CPMK 1: Memahami konsep dasar akuntansi sektor publik</h5>
                                    <span class="achievement-rate">85%</span>
                                </div>
                                <div class="form-group">
                                    <label>Evaluasi pencapaian CPMK 1:</label>
                                    <textarea name="cpmk1_evaluation" rows="3"
                                              placeholder="Evaluasi pencapaian CPMK 1..."></textarea>
                                </div>
                            </div>

                            <div class="cpmk-item">
                                <div class="cpmk-header">
                                    <h5>CPMK 2: Menganalisis perbedaan sektor publik dan swasta</h5>
                                    <span class="achievement-rate">78%</span>
                                </div>
                                <div class="form-group">
                                    <label>Evaluasi pencapaian CPMK 2:</label>
                                    <textarea name="cpmk2_evaluation" rows="3"
                                              placeholder="Evaluasi pencapaian CPMK 2..."></textarea>
                                </div>
                            </div>

                            <div class="cpmk-item">
                                <div class="cpmk-header">
                                    <h5>CPMK 3: Mengevaluasi penerapan tata kelola pemerintahan</h5>
                                    <span class="achievement-rate">82%</span>
                                </div>
                                <div class="form-group">
                                    <label>Evaluasi pencapaian CPMK 3:</label>
                                    <textarea name="cpmk3_evaluation" rows="3"
                                              placeholder="Evaluasi pencapaian CPMK 3..."></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" id="evaluationCancel">Batal</button>
                <button class="btn-primary" id="evaluationSave">Simpan Evaluasi</button>
            </div>
        </div>
    </div>

    <!-- Portfolio Preview Modal -->
    <div class="modal" id="portfolioPreviewModal">
        <div class="modal-content modal-xl">
            <div class="modal-header">
                <h3>Preview Portofolio</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="pdf-preview">
                    <div class="preview-toolbar">
                        <button class="btn-secondary">
                            <i class="fas fa-search-minus"></i>
                        </button>
                        <span class="zoom-level">100%</span>
                        <button class="btn-secondary">
                            <i class="fas fa-search-plus"></i>
                        </button>
                        <div class="page-nav">
                            <span>Halaman 1 dari 15</span>
                            <button class="btn-secondary">
                                <i class="fas fa-chevron-left"></i>
                            </button>
                            <button class="btn-secondary">
                                <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                    </div>
                    <div class="pdf-content">
                        <div class="pdf-page">
                            <p style="text-align: center; margin-top: 100px; color: #666;">
                                <i class="fas fa-file-pdf" style="font-size: 4rem;"></i><br>
                                Preview portofolio akan ditampilkan di sini
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary">Tutup</button>
                <button class="btn-primary">
                    <i class="fas fa-download"></i>
                    Download PDF
                </button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // Portfolio generation
        function generatePortfolio(courseCode) {
            if (window.obaSystem) {
                window.obaSystem.showLoading();
                window.obaSystem.showNotification('Memproses portofolio...', 'info');
            }

            setTimeout(() => {
                if (window.obaSystem) {
                    window.obaSystem.hideLoading();
                    window.obaSystem.showNotification('Portofolio berhasil dibuat!', 'success');
                }
                // Refresh the page or update the portfolio list
                location.reload();
            }, 3000);
        }

        // Export grades
        function exportGrades(courseCode) {
            if (window.obaSystem) {
                window.obaSystem.showNotification('Mengekspor nilai...', 'info');
            }

            setTimeout(() => {
                if (window.obaSystem) {
                    window.obaSystem.showNotification('File nilai berhasil diekspor!', 'success');
                }
            }, 1000);
        }

        // Open self evaluation modal
        function openSelfEvaluation(courseCode) {
            document.getElementById('selfEvaluationModal').style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }

        // Modal handling
        document.querySelectorAll('.modal-close, #evaluationCancel').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.modal').forEach(modal => {
                    modal.style.display = 'none';
                });
                document.body.style.overflow = 'auto';
            });
        });

        // Portfolio preview
        document.querySelectorAll('.btn-view').forEach(btn => {
            btn.addEventListener('click', () => {
                document.getElementById('portfolioPreviewModal').style.display = 'flex';
                document.body.style.overflow = 'hidden';
            });
        });

        // Save evaluation
        document.getElementById('evaluationSave')?.addEventListener('click', () => {
            if (window.obaSystem) {
                window.obaSystem.showLoading();
            }

            setTimeout(() => {
                if (window.obaSystem) {
                    window.obaSystem.hideLoading();
                    window.obaSystem.showNotification('Evaluasi diri berhasil disimpan!', 'success');
                }
                document.getElementById('selfEvaluationModal').style.display = 'none';
                document.body.style.overflow = 'auto';
            }, 1000);
        });

        // Portfolio regeneration
        document.querySelectorAll('.btn-regenerate').forEach(btn => {
            btn.addEventListener('click', () => {
                if (confirm('Apakah Anda yakin ingin generate ulang portofolio ini?')) {
                    if (window.obaSystem) {
                        window.obaSystem.showLoading();
                        window.obaSystem.showNotification('Membuat ulang portofolio...', 'info');
                    }

                    setTimeout(() => {
                        if (window.obaSystem) {
                            window.obaSystem.hideLoading();
                            window.obaSystem.showNotification('Portofolio berhasil dibuat ulang!', 'success');
                        }
                    }, 3000);
                }
            });
        });

        // Download portfolio
        document.querySelectorAll('.btn-download').forEach(btn => {
            btn.addEventListener('click', () => {
                if (window.obaSystem) {
                    window.obaSystem.showNotification('Mengunduh portofolio...', 'info');
                }
            });
        });
    </script>
</body>
</html>