<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manajemen Mata Kuliah - OBA System</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-left">
            <div class="logo-container">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/64/LOGO_UNU_YOGYAKARTA.png/500px-LOGO_UNU_YOGYAKARTA.png" alt="UNU Yogyakarta" class="logo">
                <div class="brand-text">
                    <h1>OBA System</h1>
                    <p>Outcome-Based Assessment</p>
                </div>
            </div>
        </div>
        <div class="header-right">
            <div class="user-info">
                <span class="user-role">Lecturer</span>
                <div class="user-avatar">
                    <i class="fas fa-user"></i>
                </div>
                <div class="dropdown">
                    <button class="dropdown-btn">
                        <span>Dr. Zulfatun Ruscitasari</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="dropdown-content">
                        <a href="#profile"><i class="fas fa-user-cog"></i> Profile</a>
                        <a href="#settings"><i class="fas fa-cog"></i> Settings</a>
                        <a href="#logout"><i class="fas fa-sign-out-alt"></i> Logout</a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Sidebar Navigation -->
    <nav class="sidebar">
        <div class="sidebar-content">
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="#dashboard" class="nav-link">
                        <i class="fas fa-tachometer-alt"></i>
                        <span>Dashboard</span>
                    </a>
                </li>
                <li class="nav-item active">
                    <a href="#manajemen-mata-kuliah" class="nav-link">
                        <i class="fas fa-book"></i>
                        <span>Manajemen Mata Kuliah</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#manajemen-soal" class="nav-link">
                        <i class="fas fa-question-circle"></i>
                        <span>Manajemen Soal</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#portofolio" class="nav-link">
                        <i class="fas fa-file-pdf"></i>
                        <span>Portofolio</span>
                    </a>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Breadcrumb -->
        <div class="breadcrumb">
            <span>Manajemen Mata Kuliah</span>
        </div>

        <!-- Page Header -->
        <div class="page-header">
            <div class="page-title">
                <h1>Manajemen Mata Kuliah</h1>
                <p>Kelola mata kuliah yang Anda ampu dan upload file dari SIAKAD</p>
            </div>
        </div>

        <!-- Course Cards -->
        <div class="course-grid">
            <!-- Course Card 1 -->
            <div class="course-card">
                <div class="course-card-header">
                    <div class="course-info">
                        <span class="course-code">AKT2201</span>
                        <div class="course-details">
                            <h3>Akuntansi Sektor Publik</h3>
                            <div class="course-meta">
                                <span><i class="fas fa-users"></i> 30 mahasiswa</span>
                                <span><i class="fas fa-calendar"></i> Kelas A</span>
                                <span><i class="fas fa-clock"></i> Semester Genap</span>
                            </div>
                        </div>
                    </div>
                    <div class="course-status">
                        <span class="status-badge active">Aktif</span>
                    </div>
                </div>

                <div class="course-card-content">
                    <!-- Upload Section -->
                    <div class="upload-section">
                        <h4><i class="fas fa-upload"></i> Upload File SIAKAD</h4>
                        <div class="upload-grid">
                            <div class="upload-item">
                                <div class="upload-status uploaded">
                                    <i class="fas fa-file-excel"></i>
                                    <span>Template Penilaian</span>
                                    <div class="upload-info">
                                        <small>template_penilaian_akt2201.xlsx</small>
                                        <small>Uploaded: 15 Mar 2024</small>
                                    </div>
                                </div>
                                <div class="upload-actions">
                                    <button class="btn-icon btn-view" title="Lihat">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="btn-icon btn-download" title="Download">
                                        <i class="fas fa-download"></i>
                                    </button>
                                    <button class="btn-icon btn-replace" title="Ganti">
                                        <i class="fas fa-sync"></i>
                                    </button>
                                </div>
                            </div>

                            <div class="upload-item">
                                <div class="upload-status uploaded">
                                    <i class="fas fa-file-pdf"></i>
                                    <span>Laporan Presensi</span>
                                    <div class="upload-info">
                                        <small>presensi_akt2201.pdf</small>
                                        <small>Uploaded: 15 Mar 2024</small>
                                    </div>
                                </div>
                                <div class="upload-actions">
                                    <button class="btn-icon btn-view" title="Lihat">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="btn-icon btn-download" title="Download">
                                        <i class="fas fa-download"></i>
                                    </button>
                                    <button class="btn-icon btn-replace" title="Ganti">
                                        <i class="fas fa-sync"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Course Summary -->
                    <div class="course-summary">
                        <h4><i class="fas fa-chart-bar"></i> Ringkasan Penilaian</h4>
                        <div class="summary-grid">
                            <div class="summary-item">
                                <span class="summary-label">Aktivitas Partisipatif</span>
                                <span class="summary-value">25%</span>
                                <div class="summary-breakdown">
                                    <small>Keaktifan: 30% • Tugas: 70%</small>
                                </div>
                            </div>
                            <div class="summary-item">
                                <span class="summary-label">Hasil Proyek</span>
                                <span class="summary-value">30%</span>
                            </div>
                            <div class="summary-item">
                                <span class="summary-label">Kognitif/Pengetahuan</span>
                                <span class="summary-value">45%</span>
                                <div class="summary-breakdown">
                                    <small>Quiz: 25% • UTS: 30% • UAS: 45%</small>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="course-actions">
                        <button class="btn-primary">
                            <i class="fas fa-question-circle"></i>
                            <span>Kelola Soal</span>
                        </button>
                        <button class="btn-secondary">
                            <i class="fas fa-users"></i>
                            <span>Lihat Mahasiswa</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Course Card 2 -->
            <div class="course-card">
                <div class="course-card-header">
                    <div class="course-info">
                        <span class="course-code">MNG3201</span>
                        <div class="course-details">
                            <h3>Manajemen Strategis</h3>
                            <div class="course-meta">
                                <span><i class="fas fa-users"></i> 28 mahasiswa</span>
                                <span><i class="fas fa-calendar"></i> Kelas B</span>
                                <span><i class="fas fa-clock"></i> Semester Genap</span>
                            </div>
                        </div>
                    </div>
                    <div class="course-status">
                        <span class="status-badge draft">Draft</span>
                    </div>
                </div>

                <div class="course-card-content">
                    <!-- Upload Section -->
                    <div class="upload-section">
                        <h4><i class="fas fa-upload"></i> Upload File SIAKAD</h4>
                        <div class="upload-grid">
                            <div class="upload-item">
                                <div class="upload-zone" onclick="triggerFileUpload('excel-upload-2')">
                                    <i class="fas fa-file-excel"></i>
                                    <span>Template Penilaian</span>
                                    <small>Klik untuk upload file Excel</small>
                                    <input type="file" id="excel-upload-2" accept=".xlsx,.xls" style="display: none;">
                                </div>
                            </div>

                            <div class="upload-item">
                                <div class="upload-zone" onclick="triggerFileUpload('pdf-upload-2')">
                                    <i class="fas fa-file-pdf"></i>
                                    <span>Laporan Presensi</span>
                                    <small>Klik untuk upload file PDF</small>
                                    <input type="file" id="pdf-upload-2" accept=".pdf" style="display: none;">
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Notice -->
                    <div class="notice-box">
                        <i class="fas fa-info-circle"></i>
                        <div>
                            <strong>Upload file dari SIAKAD</strong>
                            <p>Upload template penilaian Excel dan laporan presensi PDF untuk melanjutkan pengelolaan mata kuliah.</p>
                        </div>
                    </div>

                    <!-- Action Buttons (Disabled) -->
                    <div class="course-actions">
                        <button class="btn-primary" disabled>
                            <i class="fas fa-question-circle"></i>
                            <span>Kelola Soal</span>
                        </button>
                        <button class="btn-secondary" disabled>
                            <i class="fas fa-users"></i>
                            <span>Lihat Mahasiswa</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Course Card 3 -->
            <div class="course-card">
                <div class="course-card-header">
                    <div class="course-info">
                        <span class="course-code">EKO1101</span>
                        <div class="course-details">
                            <h3>Mikroekonomi</h3>
                            <div class="course-meta">
                                <span><i class="fas fa-users"></i> 27 mahasiswa</span>
                                <span><i class="fas fa-calendar"></i> Kelas A</span>
                                <span><i class="fas fa-clock"></i> Semester Ganjil</span>
                            </div>
                        </div>
                    </div>
                    <div class="course-status">
                        <span class="status-badge archived">Arsip</span>
                    </div>
                </div>

                <div class="course-card-content">
                    <!-- Archived Notice -->
                    <div class="notice-box archived">
                        <i class="fas fa-archive"></i>
                        <div>
                            <strong>Mata kuliah diarsipkan</strong>
                            <p>Mata kuliah ini telah selesai dan diarsipkan. Anda masih dapat melihat data dan mengunduh portofolio.</p>
                        </div>
                    </div>

                    <!-- Action Buttons (Limited) -->
                    <div class="course-actions">
                        <button class="btn-secondary">
                            <i class="fas fa-eye"></i>
                            <span>Lihat Data</span>
                        </button>
                        <button class="btn-secondary">
                            <i class="fas fa-file-pdf"></i>
                            <span>Download Portofolio</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Student List Modal -->
    <div class="modal" id="studentModal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3 id="studentModalTitle">Daftar Mahasiswa - AKT2201</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="student-table-container">
                    <table class="student-table">
                        <thead>
                            <tr>
                                <th>No</th>
                                <th>NIM</th>
                                <th>Nama Mahasiswa</th>
                                <th>Email</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1</td>
                                <td>2023001</td>
                                <td>Ahmad Fauzi</td>
                                <td>ahmad.fauzi@student.unu.ac.id</td>
                                <td><span class="status-badge active">Aktif</span></td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td>2023002</td>
                                <td>Siti Aisyah</td>
                                <td>siti.aisyah@student.unu.ac.id</td>
                                <td><span class="status-badge active">Aktif</span></td>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td>2023003</td>
                                <td>Muhammad Rizki</td>
                                <td>m.rizki@student.unu.ac.id</td>
                                <td><span class="status-badge active">Aktif</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" id="studentCancel">Tutup</button>
                <button class="btn-primary" id="studentExport">Export Excel</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // Simple file upload trigger function
        function triggerFileUpload(inputId) {
            document.getElementById(inputId).click();
        }

        // Handle file uploads
        document.querySelectorAll('input[type="file"]').forEach(input => {
            input.addEventListener('change', function(e) {
                if (e.target.files.length > 0) {
                    const fileName = e.target.files[0].name;
                    console.log('File selected:', fileName);
                    
                    // Show success notification
                    if (window.obaSystem) {
                        window.obaSystem.showNotification(`File ${fileName} berhasil dipilih`, 'success');
                    }
                    
                    // Here you would typically upload the file
                    // For now, we'll just simulate the upload
                    setTimeout(() => {
                        location.reload(); // Simulate page refresh to show uploaded state
                    }, 2000);
                }
            });
        });

        // Modal handlers
        document.querySelectorAll('.btn-secondary').forEach(btn => {
            if (btn.textContent.includes('Lihat Mahasiswa')) {
                btn.addEventListener('click', () => {
                    document.getElementById('studentModal').style.display = 'flex';
                    document.body.style.overflow = 'hidden';
                });
            }
        });

        document.querySelectorAll('.modal-close, #studentCancel').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.modal').forEach(modal => {
                    modal.style.display = 'none';
                });
                document.body.style.overflow = 'auto';
            });
        });
    </script>
</body>
</html>